#!/usr/bin/env php
<?php

/*
|--------------------------------------------------------------------------
| 注册自动加载
|--------------------------------------------------------------------------
|
| Composer 提供了一个类自动加载器
| 对于我们的应用，我们只需要直接引用就能使用用它
| 放在这里的脚本，我们不需要手动加载任何类，就能够轻松使用
|
*/

require __DIR__.'/bootstrap/autoload.php';

$app = require_once __DIR__.'/bootstrap/app.php';

/*
|--------------------------------------------------------------------------
| 运行Artisan程序
|--------------------------------------------------------------------------
|
| 当我们运行控制台程序, 当前CLI命令也将在控制台执行，并且会将响应返回给开发者终端
|
*/

//初始化kernel
$kernel = $app->make(Illuminate\Contracts\Console\Kernel::class);


// 获取控制台输入，以及将控制台输出返回.
$status = $kernel->handle(
    $input = new Symfony\Component\Console\Input\ArgvInput,
    new Symfony\Component\Console\Output\ConsoleOutput
);

/*
|--------------------------------------------------------------------------
| 结束程序
|--------------------------------------------------------------------------
|
| 一次Artisan运行完成时, 姜辉触发关闭事件，所以任何结束工作
| 所以，在关闭进程之前，应用程序可以在这里完成最后的工作
|
*/

$kernel->terminate($input, $status);

exit($status);
